<div class="form-container bg-white p-3">
    <span class="row d-flex flew-wrap justify-content-between align-item-center p-1 ps-3 pe-3 w-100 mb-2">
      <div class="card">
        <div class="card-header">
          <div class="row">
            <div class="col">
              <h2>Administrar Contratos</h2>
            </div>
            <div class="col text-end">
              <!--button mat-raised-button color="primary" (click)="crearContrato()"-->
              <button mat-raised-button color="primary" [routerLink]="['/dashboard/admcontratos','Crear']">
                <mat-icon>add_circle</mat-icon>
                Crear Nuevo Contrato
              </button>
            </div>
          </div>
        </div>
        <div class="card-body">

          <div class="row">
            <div class="col-4">
                <input type="number" class="form-control" id="" placeholder="No. Ticket">
            </div>
            <div class="col-4">
              <select id="inputState" class="form-select" placeholder="Last name">
                <option selected>Cliente...</option>
                <option>...</option>
              </select>
            </div>
            <div class="col-md-4">
              <select id="inputState" class="form-select" placeholder="Last name">
                <option selected>Estado...</option>
                <option>...</option>
              </select>
            </div>
          </div>
          <button mat-raised-button color="primary">
            <mat-icon>filter_alt</mat-icon>
            Filtrar
          </button>
        </div>
        <div class="tabla">
          <mat-form-field>
            <mat-label>Filter</mat-label>
            <input matInput (keyup)="applyFilter($event)" placeholder="Ex. ium" #input>
          </mat-form-field>

          <table mat-table [dataSource]="dataSource" class="mat-elevation-z8 contratos-table">
            <!-- Position Column -->
            <ng-container *ngFor="let column of columnas" [matColumnDef]="column">
              <th mat-header-cell *matHeaderCellDef>{{ column | titlecase }}</th>
              <td mat-cell *matCellDef="let element">{{ element[column] }}</td>
            </ng-container>

            <ng-container matColumnDef="opciones">
              <th mat-header-cell *matHeaderCellDef> Opciones </th>
              <td mat-cell *matCellDef="let element">
                <button mat-icon-button [routerLink]="['/dashboard/admcontratos','Editar']"
                type="button" class="btn btn-primary" >
                  <mat-icon>edit</mat-icon>
                </button>
              </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="columnas"></tr>
            <tr mat-row *matRowDef="let row; columns: columnas;"
                (click)="mostrarAlerta(row)"
                [class.demo-row-is-clicked]="clickedRows.has(row)" ></tr>
          </table>

          <div>
            <h3>
              Click Log
            </h3>
          </div>

          @if (!clickedRows.size) {
            <div>Clicked rows will be logged here</div>
          }

          <ul>
            @for (clickedRow of clickedRows; track clickedRow) {
              <li>Clicked on {{clickedRow.cliente}}</li>
            }
          </ul>

        </div>
      </div>
